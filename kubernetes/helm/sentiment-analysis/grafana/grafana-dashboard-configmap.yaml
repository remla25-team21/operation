apiVersion: v1
kind: ConfigMap
metadata:
  name: sentiment-dashboard
  labels:
    grafana_dashboard: '1'
    app.kubernetes.io/name: grafana
data:
  grafana-dashboard.json: "{\n  \"annotations\": {\n    \"list\": [\n      {\n   \
    \     \"builtIn\": 1,\n        \"datasource\": {\n          \"type\": \"grafana\"\
    ,\n          \"uid\": \"-- Grafana --\"\n        },\n        \"enable\": true,\n\
    \        \"hide\": true,\n        \"iconColor\": \"rgba(0, 211, 255, 1)\",\n \
    \       \"name\": \"Annotations & Alerts\",\n        \"type\": \"dashboard\"\n\
    \      }\n    ]\n  },\n  \"editable\": true,\n  \"fiscalYearStartMonth\": 0,\n\
    \  \"graphTooltip\": 0,\n  \"id\": 29,\n  \"links\": [],\n  \"panels\": [\n  \
    \  {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\"\
    : \"prometheus\"\n      },\n      \"description\": \"Observe median latency to\
    \ understand typical latency experience for users. \",\n      \"fieldConfig\"\
    : {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"\
    palette-classic\"\n          },\n          \"custom\": {\n            \"axisBorderShow\"\
    : false,\n            \"axisCenteredZero\": false,\n            \"axisColorMode\"\
    : \"text\",\n            \"axisLabel\": \"\",\n            \"axisPlacement\":\
    \ \"auto\",\n            \"barAlignment\": 0,\n            \"barWidthFactor\"\
    : 0.6,\n            \"drawStyle\": \"line\",\n            \"fillOpacity\": 0,\n\
    \            \"gradientMode\": \"none\",\n            \"hideFrom\": {\n      \
    \        \"legend\": false,\n              \"tooltip\": false,\n             \
    \ \"viz\": false\n            },\n            \"insertNulls\": false,\n      \
    \      \"lineInterpolation\": \"linear\",\n            \"lineWidth\": 2,\n   \
    \         \"pointSize\": 5,\n            \"scaleDistribution\": {\n          \
    \    \"type\": \"linear\"\n            },\n            \"showPoints\": \"auto\"\
    ,\n            \"spanNulls\": false,\n            \"stacking\": {\n          \
    \    \"group\": \"A\",\n              \"mode\": \"none\"\n            },\n   \
    \         \"thresholdsStyle\": {\n              \"mode\": \"off\"\n          \
    \  }\n          },\n          \"mappings\": [],\n          \"thresholds\": {\n\
    \            \"mode\": \"absolute\",\n            \"steps\": [\n             \
    \ {\n                \"color\": \"green\"\n              }\n            ]\n  \
    \        },\n          \"unit\": \"s\"\n        },\n        \"overrides\": []\n\
    \      },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 12,\n     \
    \   \"x\": 0,\n        \"y\": 0\n      },\n      \"id\": 3,\n      \"options\"\
    : {\n        \"legend\": {\n          \"calcs\": [],\n          \"displayMode\"\
    : \"list\",\n          \"placement\": \"bottom\",\n          \"showLegend\": false\n\
    \        },\n        \"tooltip\": {\n          \"hideZeros\": false,\n       \
    \   \"mode\": \"single\",\n          \"sort\": \"none\"\n        }\n      },\n\
    \      \"pluginVersion\": \"12.0.0\",\n      \"targets\": [\n        {\n     \
    \     \"editorMode\": \"code\",\n          \"expr\": \"histogram_quantile(0.5,\
    \ rate(sentiment_prediction_latency_seconds_bucket[5m]))\",\n          \"legendFormat\"\
    : \"__auto\",\n          \"range\": true,\n          \"refId\": \"A\"\n      \
    \  }\n      ],\n      \"title\": \"Prediction Latency (50th Percentile) \",\n\
    \      \"transparent\": true,\n      \"type\": \"timeseries\"\n    },\n    {\n\
    \      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\":\
    \ \"prometheus\"\n      },\n      \"description\": \"Tracks the total number of\
    \ sentiment predictions made. \",\n      \"fieldConfig\": {\n        \"defaults\"\
    : {\n          \"color\": {\n            \"mode\": \"palette-classic\"\n     \
    \     },\n          \"custom\": {\n            \"axisBorderShow\": true,\n   \
    \         \"axisCenteredZero\": false,\n            \"axisColorMode\": \"text\"\
    ,\n            \"axisGridShow\": true,\n            \"axisLabel\": \"\",\n   \
    \         \"axisPlacement\": \"auto\",\n            \"barAlignment\": 0,\n   \
    \         \"barWidthFactor\": 0.6,\n            \"drawStyle\": \"line\",\n   \
    \         \"fillOpacity\": 0,\n            \"gradientMode\": \"none\",\n     \
    \       \"hideFrom\": {\n              \"legend\": false,\n              \"tooltip\"\
    : false,\n              \"viz\": false\n            },\n            \"insertNulls\"\
    : false,\n            \"lineInterpolation\": \"linear\",\n            \"lineStyle\"\
    : {\n              \"fill\": \"solid\"\n            },\n            \"lineWidth\"\
    : 2,\n            \"pointSize\": 6,\n            \"scaleDistribution\": {\n  \
    \            \"type\": \"linear\"\n            },\n            \"showPoints\"\
    : \"auto\",\n            \"spanNulls\": false,\n            \"stacking\": {\n\
    \              \"group\": \"A\",\n              \"mode\": \"none\"\n         \
    \   },\n            \"thresholdsStyle\": {\n              \"mode\": \"off\"\n\
    \            }\n          },\n          \"fieldMinMax\": false,\n          \"\
    mappings\": [],\n          \"thresholds\": {\n            \"mode\": \"absolute\"\
    ,\n            \"steps\": [\n              {\n                \"color\": \"green\"\
    \n              }\n            ]\n          }\n        },\n        \"overrides\"\
    : []\n      },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 12,\n\
    \        \"x\": 0,\n        \"y\": 8\n      },\n      \"id\": 2,\n      \"options\"\
    : {\n        \"legend\": {\n          \"calcs\": [],\n          \"displayMode\"\
    : \"list\",\n          \"placement\": \"bottom\",\n          \"showLegend\": true,\n\
    \          \"width\": -3\n        },\n        \"tooltip\": {\n          \"hideZeros\"\
    : false,\n          \"hoverProximity\": 4,\n          \"mode\": \"single\",\n\
    \          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\": \"\
    12.0.0\",\n      \"targets\": [\n        {\n          \"editorMode\": \"code\"\
    ,\n          \"expr\": \"sum by (sentiment) (sentiment_predictions_total)\",\n\
    \          \"legendFormat\": \"{{sentiment}}\",\n          \"range\": true,\n\
    \          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Total Sentiment\
    \ Predictions\",\n      \"transparent\": true,\n      \"type\": \"timeseries\"\
    \n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n\
    \        \"uid\": \"prometheus\"\n      },\n      \"description\": \"This gauge\
    \ displays the proportion of all predictions that are classified as positive sentiment.\
    \ A value of 0 means all recent predictions were negative, 1 means all were positive,\
    \ and a value around 0.5 indicates a balanced mix.  \",\n      \"fieldConfig\"\
    : {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"\
    thresholds\"\n          },\n          \"custom\": {\n            \"neutral\":\
    \ -3\n          },\n          \"fieldMinMax\": false,\n          \"mappings\"\
    : [],\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n    \
    \        \"steps\": [\n              {\n                \"color\": \"green\"\n\
    \              },\n              {\n                \"color\": \"red\",\n    \
    \            \"value\": 80\n              }\n            ]\n          }\n    \
    \    },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n        \"\
    h\": 8,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 16\n      },\n\
    \      \"id\": 1,\n      \"options\": {\n        \"minVizHeight\": 75,\n     \
    \   \"minVizWidth\": 75,\n        \"orientation\": \"auto\",\n        \"reduceOptions\"\
    : {\n          \"calcs\": [\n            \"lastNotNull\"\n          ],\n     \
    \     \"fields\": \"/^\\\\{__name__=\\\"sentiment_positive_ratio\\\", container=\\\
    \"app\\\\-service\\\", endpoint=\\\"http\\\", instance=\\\"10\\\\.244\\\\.0\\\\\
    .10:5000\\\", job=\\\"app\\\\-service\\\", namespace=\\\"default\\\", pod=\\\"\
    app\\\\-service\\\\-6d44df7dbc\\\\-qds56\\\", service=\\\"app\\\\-service\\\"\\\
    \\}$/\",\n          \"values\": false\n        },\n        \"showThresholdLabels\"\
    : false,\n        \"showThresholdMarkers\": true,\n        \"sizing\": \"auto\"\
    ,\n        \"text\": {\n          \"titleSize\": 2\n        }\n      },\n    \
    \  \"pluginVersion\": \"12.0.0\",\n      \"targets\": [\n        {\n         \
    \ \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\"\
    : \"prometheus\"\n          },\n          \"disableTextWrap\": false,\n      \
    \    \"editorMode\": \"code\",\n          \"exemplar\": false,\n          \"expr\"\
    : \"sentiment_positive_ratio\",\n          \"format\": \"time_series\",\n    \
    \      \"fullMetaSearch\": false,\n          \"includeNullMetadata\": true,\n\
    \          \"instant\": false,\n          \"interval\": \"\",\n          \"legendFormat\"\
    : \"__auto\",\n          \"range\": true,\n          \"refId\": \"A\",\n     \
    \     \"useBackend\": false\n        }\n      ],\n      \"title\": \"Positive\
    \ Sentiment Ratio\",\n      \"transparent\": true,\n      \"type\": \"gauge\"\n\
    \    }\n  ],\n  \"preload\": false,\n  \"schemaVersion\": 41,\n  \"tags\": [],\n\
    \  \"templating\": {\n    \"list\": []\n  },\n  \"time\": {\n    \"from\": \"\
    now-6h\",\n    \"to\": \"now\"\n  },\n  \"timepicker\": {},\n  \"timezone\": \"\
    browser\",\n  \"title\": \"Dashboard\",\n  \"uid\": \"dea940bf-0900-428f-943d-d88e8b4eeef3\"\
    ,\n  \"version\": 1\n}"
